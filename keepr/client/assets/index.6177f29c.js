import{r as e,c as t,o as a,a as l,b as o,F as s,d as r,S as c,C as n,p as i,e as d,u,$ as p,w as m,f as v,v as g,g as f,h as b,i as h,j as k,k as y,l as w,t as x,m as K,n as V,q as _,s as P,x as I}from"./vendor.0210e215.js";const C=e({user:{},account:{},vaults:[],keeps:[],profVaults:[],profKeeps:[],activeVault:{},vaultKeeps:[],activeProfile:{},selProfVaults:[],thisKeep:{}});const A={name:"App",setup:()=>({appState:t((()=>C))})};A.render=function(e,t,c,n,i,d){const u=r("Navbar"),p=r("router-view");return a(),l(s,null,[o("header",null,[o(u)]),o("main",null,[o(p)])],64)};class T{static async confirm(e="Are you sure?",t="You won't be able to revert this!",a="warning",l="Yes, delete it!"){try{return!!(await c.fire({title:e,text:t,icon:a,showCancelButton:!0,confirmButtonColor:"#885053",cancelButtonColor:"#104F55",confirmButtonText:l})).isConfirmed}catch(o){return!1}}static toast(e="Warning!",t="warning",a="top-end",l=3e3,o=!0){c.fire({title:e,icon:t,position:a,timer:l,timerProgressBar:o,toast:!0,showConfirmButton:!1})}}const S=window.location.origin.includes("localhost"),j=S?"https://localhost:5001":"";function O(e,t){if(S)console[e](`[${e}] :: ${(new Date).toLocaleTimeString()} :: `,...t);else{switch(e){case"log":case"assert":return}console[e](`[${e}] :: ${(new Date).toLocaleTimeString()} :: `,...t)}}const E={log(){O("log",arguments)},error(){O("error",arguments)},warn(){O("warn",arguments)},assert(){O("assert",arguments)},trace(){O("trace",arguments)}},M=n.create({baseURL:j,timeout:8e3});const U=new class{async getAllKeeps(){const e=await M.get("/api/keeps");C.keeps=e.data,E.log(e.data)}async getById(e){await M.get(`/api/keeps/${e}`);const t=C.profKeeps.findIndex((t=>t.id===e));C.profKeeps[t]&&C.profKeeps[t].views++;const a=C.vaultKeeps.findIndex((t=>t.id===e));C.vaultKeeps[a]&&C.vaultKeeps[a].views++}async getByIdProf(e){const t=await M.get(`/api/keeps/${e}`),a=C.keeps.findIndex((t=>t.id===e));C.keeps[a]=t.data}async getKeepsByProfile(e){const t=await M.get(`/api/profiles/${e}/keeps`);C.profKeeps=t.data,E.log(t.data)}async getKeepsByVaultId(e){const t=await M.get(`/api/vaults/${e}/keeps`);C.vaultKeeps=t.data,E.log(t.data,"vaultKeeps")}async createKeep(e){const t=await M.post("/api/keeps",e);C.keeps.push(t.data),C.profKeeps.push(t.data)}async shareKeep(e){e.shares++,await M.put(`api/keeps/${e.id}`,e),C.activeVault.length>0&&U.getKeepsByVaultId(e.AppState.activeVault.id),U.getKeepsByProfile(e.creatorId)}async deleteKeep(e){await M.delete(`/api/keeps/${e}`),C.profKeeps=C.profKeeps.filter((t=>t.id!==e)),C.vaultKeeps=C.vaultKeeps.filter((t=>t.id!==e)),C.keeps=C.keeps.filter((t=>t.id!==e))}};const L={props:{keep:{type:Object,required:!0}},setup(a){u();const l=e({createKeep:{},account:t((()=>C.account))});return{state:l,async createKeep(){try{l.createKeep.creatorId=l.account.id,await U.createKeep(l.createKeep),l.createKeep={},p("create-keep-modal").modal("hide"),T.toast("Created Keep Successfully","success")}catch(e){T.toast(e,"error")}},closeModal(){p("create-keep-modal").modal("hide")}}}},R=b("data-v-253a2948");i("data-v-253a2948");const B={class:"keep-modal container-fluid"},D={class:"modal",id:"create-keep-modal",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},$={class:"modal-dialog modal-lg modal-dialog-centered",role:"document"},q={class:"modal-content"},N=o("div",{class:"modal-header d-flex flex-column align-items-center"},[o("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[o("span",{"aria-hidden":"true"},"×")]),o("h3",null,"Create Keep")],-1),z={class:"modal-body"},H={class:"form-group"},Y=o("label",{class:"pr-2",for:"name"},"Keep Name",-1),W={class:"form-group"},F=o("label",{class:"pr-2",for:"class"},"Description",-1),G={class:"form-group"},Q=o("label",{class:"pr-2",for:"class"},"Image URL",-1),J={key:0,type:"submit",class:"btn btn-success mr-3",title:"Create vault"},X=o("b",null,"Close",-1);d();const Z=R(((e,t,s,r,c,n)=>(a(),l("div",B,[o("div",D,[o("div",$,[o("div",q,[N,o("div",z,[o("form",{onSubmit:t[5]||(t[5]=m(((...e)=>r.createKeep&&r.createKeep(...e)),["prevent"]))},[o("div",H,[Y,v(o("input",{type:"text",id:"name",class:"form-control",placeholder:"Keep Name...",maxlength:"25",required:"","onUpdate:modelValue":t[1]||(t[1]=e=>r.state.createKeep.name=e)},null,512),[[g,r.state.createKeep.name]])]),o("div",W,[F,v(o("input",{type:"text",id:"description",class:"form-control",placeholder:"Description...",maxlength:"500",required:"","onUpdate:modelValue":t[2]||(t[2]=e=>r.state.createKeep.description=e)},null,512),[[g,r.state.createKeep.description]])]),o("div",G,[Q,v(o("input",{type:"text",id:"description",class:"form-control",placeholder:"Image URL...",maxlength:"200",required:"","onUpdate:modelValue":t[3]||(t[3]=e=>r.state.createKeep.img=e)},null,512),[[g,r.state.createKeep.img]])]),o("div",null,[r.state.createKeep?(a(),l("button",J," Create ")):f("",!0),o("button",{type:"button",class:"btn btn-primary closeModal",title:"Close modal","data-dismiss":"modal",onClick:t[4]||(t[4]=(...e)=>r.closeModal&&r.closeModal(...e))},[X])])],32)])])])])]))));L.render=Z,L.__scopeId="data-v-253a2948";var ee=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:L});const te=new class{async getAllVaults(){const e=await M.get("/api/vaults");C.vaults=e.data,E.log(e.data)}async getVaultsByProfile(e){const t=await M.get(`/api/profiles/${e}/vaults`);C.profVaults=t.data,E.log(t.data)}async getVaultsByProfileNotKeep(e,t){const a=await M.get(`/api/profiles/${e}/vaults`),l=await M.get(`/api/keeps/${t}/vaults`),o=a.data.filter((e=>!l.data.find((t=>t.id===e.id))));C.selProfVaults=o,E.log(a.data)}async getVaultById(e){const t=await M.get(`/api/vaults/${e}`);C.activeVault=t.data,E.log(t.data)}async createVault(e){const t=await M.post("/api/vaults",e);C.vaults.push(t.data),C.profVaults.push(t.data)}async deleteVault(e){await M.delete(`/api/vaults/${e}`)}};const ae={props:{vault:{type:Object,required:!0}},setup(a){u();const l=e({createdVault:{},account:t((()=>C.account))});return{state:l,async createVault(){try{l.createdVault.creatorId=l.account.id,await te.createVault(l.createdVault),l.createdVault={},p("#create-vault-modal").modal("hide"),T.toast("Created Vault Successfully","success")}catch(e){T.toast(e,"error")}},closeModal(){p("#create-vault-modal").modal("hide")}}}},le=b("data-v-0a96086a");i("data-v-0a96086a");const oe={class:"vault-modal container-fluid"},se={class:"modal",id:"create-vault-modal",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},re={class:"modal-dialog modal-lg modal-dialog-centered",role:"document"},ce={class:"modal-content"},ne=o("div",{class:"modal-header d-flex flex-column align-items-center"},[o("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[o("span",{"aria-hidden":"true"},"×")]),o("h3",{class:"m-0"},"Create Vault")],-1),ie={class:"modal-body"},de={class:"form-group"},ue=o("label",{class:"pr-2",for:"vault-name"},"Vault Name",-1),pe={class:"form-group"},me=o("label",{class:"pr-2",for:"vault-description"},"Description",-1),ve={class:"form-group"},ge=o("label",{class:"pr-2",for:"vault-img"},"Image URL",-1),fe={class:"form-group d-flex align-items-center justify-content-start"},be=o("label",{for:"private",class:"form-label pr-2 m-0"},"Private?",-1),he={key:0,type:"submit",class:"btn btn-success mr-3",title:"Create New Vault"},ke=o("b",null,"Create",-1);d();const ye=le(((e,t,s,r,c,n)=>(a(),l("div",oe,[o("div",se,[o("div",re,[o("div",ce,[ne,o("div",ie,[o("form",{onSubmit:t[6]||(t[6]=m(((...e)=>r.createVault&&r.createVault(...e)),["prevent"]))},[o("div",de,[ue,v(o("input",{type:"text",id:"vault-name",class:"form-control",placeholder:"Vault Name...",maxlength:"25",required:"",title:"Vault Name","onUpdate:modelValue":t[1]||(t[1]=e=>r.state.createdVault.name=e)},null,512),[[g,r.state.createdVault.name]])]),o("div",pe,[me,v(o("input",{type:"text",id:"vault-description",class:"form-control",placeholder:"Description...",maxlength:"500",required:"",title:"Vault Description","onUpdate:modelValue":t[2]||(t[2]=e=>r.state.createdVault.description=e)},null,512),[[g,r.state.createdVault.description]])]),o("div",ve,[ge,v(o("input",{type:"text",id:"vault-img",class:"form-control",placeholder:"Image URL...",maxlength:"200",required:"",title:"Vault Image URL","onUpdate:modelValue":t[3]||(t[3]=e=>r.state.createdVault.img=e)},null,512),[[g,r.state.createdVault.img]])]),o("div",fe,[be,v(o("input",{class:"form-checkbox m-0",type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>r.state.createdVault.private=e),title:"Set vault to private"},null,512),[[h,r.state.createdVault.private]])]),o("div",null,[r.state.createdVault?(a(),l("button",he,[ke])):f("",!0),o("button",{type:"button",class:"btn btn-primary closeModal",title:"Close Modal","data-dismiss":"modal",onClick:t[5]||(t[5]=(...e)=>r.closeModal&&r.closeModal(...e))}," Close ")])],32)])])])])]))));ae.render=ye,ae.__scopeId="data-v-0a96086a";var we=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ae});let xe;const Ke={},Ve=function(e,t){if(!t||0===t.length)return e();if(void 0===xe){const e=document.createElement("link").relList;xe=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in Ke)return;Ke[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const l=document.createElement("link");return l.rel=t?"stylesheet":xe,t||(l.as="script",l.crossOrigin=""),l.href=e,document.head.appendChild(l),t?new Promise(((e,t)=>{l.addEventListener("load",e),l.addEventListener("error",t)})):void 0}))).then((()=>e()))};function _e(e){return()=>function(e){switch(e){case"./pages/AboutPage.vue":return Ve((()=>import("./AboutPage.d4d67100.js")),["/assets/AboutPage.d4d67100.js","/assets/vendor.0210e215.js"]);case"./pages/AccountPage.vue":return Ve((()=>import("./AccountPage.d718816f.js")),["/assets/AccountPage.d718816f.js","/assets/AccountPage.f3fa63f7.css","/assets/vendor.0210e215.js"]);case"./pages/HomePage.vue":return Ve((()=>import("./HomePage.147cbe57.js")),["/assets/HomePage.147cbe57.js","/assets/HomePage.97e877ac.css","/assets/vendor.0210e215.js"]);case"./pages/ProfilePage.vue":return Ve((()=>import("./ProfilePage.bf6237f6.js")),["/assets/ProfilePage.bf6237f6.js","/assets/ProfilePage.9c82e271.css","/assets/vendor.0210e215.js"]);case"./pages/VaultPage.vue":return Ve((()=>import("./VaultPage.4b8e2857.js")),["/assets/VaultPage.4b8e2857.js","/assets/vendor.0210e215.js"]);default:return Promise.reject(new Error("Unknown variable dynamic import: "+e))}}(`./pages/${e}.vue`)}const Pe=[{path:"/",name:"Home",component:_e("HomePage")},{path:"/about",name:"About",component:_e("AboutPage")},{path:"/profile/:id",name:"Profile",component:_e("ProfilePage")},{path:"/vault/:id",name:"Vault",component:_e("VaultPage"),beforeEnter:w}],Ie=k({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:y(),routes:Pe});const Ce={props:{keep:{type:Object,required:!0}},setup(a){u();const l=e({account:t((()=>C.account))});return{async getKeep(){try{l.account.id&&(await U.getByIdProf(a.keep.id),await te.getVaultsByProfileNotKeep(C.account.id,a.keep.id))}catch(e){T.toast(e,"error")}},goToProfile(){Ie.push({name:"Profile",params:{id:a.keep.creatorId}})}}},components:{}},Ae=b("data-v-21941768");i("data-v-21941768");const Te={class:"card img-rounded hoverable hover-here"},Se={class:"card-body p-0"},je={class:"img-total"},Oe={class:"hover-show "},Ee={class:"img-text d-flex justify-content-between align-items-end w-100 pl-3 pr-4 pb-2"},Me={class:"pl-3 pr-2 text-light white-text-shadow clip-text md-font-size"};d();const Ue=Ae(((e,t,s,c,n,i)=>{const d=r("KeepModal");return a(),l("div",null,[o("div",Te,[o("div",Se,[o("div",je,[o("img",{class:"w-100 gs img-rounded hoverable",src:s.keep.img,alt:s.keep.name,title:s.keep.name,"data-toggle":"modal","data-target":"#keep-modal-"+s.keep.id,onClick:t[1]||(t[1]=(...e)=>c.getKeep&&c.getKeep(...e))},null,8,["src","alt","title","data-target"]),o("div",Oe,[o("div",Ee,[o("h3",Me,x(s.keep.name),1),o("div",null,[o("img",{class:"sm-prof-img mt-1 mr-3 mb-2",src:s.keep.creator.picture,alt:s.keep.creator.name,title:s.keep.creator.name,onClick:t[2]||(t[2]=m(((...e)=>c.goToProfile&&c.goToProfile(...e)),["stop"]))},null,8,["src","alt","title"])])])])])])]),s.keep.id?(a(),l(d,{key:0,keep:s.keep},null,8,["keep"])):f("",!0)])}));Ce.render=Ue,Ce.__scopeId="data-v-21941768";var Le=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ce});const Re=new class{async create(e,t,a){const l=await M.post("/api/vaultKeeps/",e);if(l.data){if("VAULT"===t&&U.getKeepsByVaultId(a),"PROFILE"===t){const t=C.profKeeps.findIndex((t=>t.id===e.keepId));C.profKeeps[t]&&C.profKeeps[t].keeps++}const l=C.keeps.findIndex((t=>t.id===e.keepId));C.keeps[l]&&C.keeps[l].keeps++}return l}async remove(e){const t=await M.delete("/api/vaultKeeps/"+e);return C.vaultKeeps=C.vaultKeeps.filter((t=>t.id!==e)),t}};const Be={props:{keep:{type:Object,required:!0}},setup(a){const l=u(),o=e({vaultKeep:{},account:t((()=>C.account)),vaults:t((()=>C.selProfVaults))});return{state:o,route:l,async addVault(){try{const e=l.name,t=a.keep.id;p("#keep-modal-"+t).modal("hide"),o.vaultKeep.creatorId=o.account.id,o.vaultKeep.keepId=a.keep.id;await Re.create(o.vaultKeep,e.toUpperCase(),l.params.id);o.vaultKeep={},T.toast("Added to Vault","success")}catch(e){T.toast("Can't add Keep to this Vault","error")}},async deleteKeep(){try{if(await T.confirm()){const e=a.keep.id;p("#keep-modal-"+e).modal("hide"),await U.deleteKeep(a.keep.id),T.toast("Deleted Keep Successfully","success")}}catch(e){T.toast(e,"error")}},shareKeep(){U.shareKeep(a.keep)},closeModal(){p("#keep-modal-"+a.keep.id).modal("hide")},account:t((()=>C.account))}}},De=b("data-v-4a430d08");i("data-v-4a430d08");const $e={class:"keep-modal container-fluid def-pointer"},qe={class:"modal-dialog modal-lg modal-dialog-centered",role:"document"},Ne={class:"modal-content"},ze=o("div",{class:"modal-header d-flex flex-column align-items-center"},[o("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[o("span",{"aria-hidden":"true"},"×")])],-1),He={class:"modal-body body-scroll"},Ye={class:"row"},We={class:"col-md-6"},Fe={class:"col-md-6 d-flex pt-2 flex-column flex-grow justify-content-between"},Ge={class:"d-flex flex-column"},Qe={class:"d-flex justify-content-around"},Je=o("i",{class:"far fa-eye pr-2",title:"views"},null,-1),Xe=o("i",{class:"far fa-bookmark pr-2",title:"keeps"},null,-1),Ze={key:0},et={key:1},tt=o("i",{class:"fas fa-share-alt pr-2",title:"shares"},null,-1),at={class:"d-flex justify-content-center align-items-center pb-3 pt-2"},lt={class:"text-wrap text-break m-0"},ot={class:"text-left text-wrap text-break"},st={class:"row d-flex justify-content-around align-items-end"},rt={key:0,class:"col-lg-7 d-flex"},ct={class:"col-lg-5 d-flex align-items-end justify-content-end p-2"};d();const nt=De(((e,t,c,n,i,d)=>{const u=r("router-link");return a(),l("div",$e,[o("div",{class:"modal",id:"keep-modal-"+c.keep.id,tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},[o("div",qe,[o("div",Ne,[ze,o("div",He,[o("div",Ye,[o("div",We,[o("img",{class:"w-100 max-image",src:c.keep.img,alt:c.keep.name,title:c.keep.name},null,8,["src","alt","title"])]),o("div",Fe,[o("div",Ge,[o("div",Qe,[o("p",null,[Je,K(" "+x(c.keep.views),1)]),o("p",null,[Xe,K(" "+x(c.keep.keeps),1)]),n.account.id&&n.account.id==c.keep.creatorId?(a(),l("div",Ze,[o("p",null,[o("i",{class:"fas fa-share-alt pr-2 hoverable",title:"shares",onClick:t[1]||(t[1]=(...e)=>n.shareKeep&&n.shareKeep(...e))}),K(" "+x(c.keep.shares),1)])])):(a(),l("div",et,[o("p",null,[tt,K(" "+x(c.keep.shares),1)])]))]),o("div",null,[o("div",at,[o("h3",lt,x(c.keep.name),1)]),o("p",ot,x(c.keep.description),1)])]),o("div",st,[n.account.id?(a(),l("div",rt,[v(o("select",{class:"hoverable","onUpdate:modelValue":t[2]||(t[2]=e=>n.state.vaultKeep.vaultId=e),onChange:t[3]||(t[3]=(...e)=>n.addVault&&n.addVault(...e))},[(a(!0),l(s,null,_(n.state.vaults,((e,t)=>(a(),l("option",{class:"hoverable",key:t,value:e.id},x(e.name),9,["value"])))),128))],544),[[V,n.state.vaultKeep.vaultId]]),c.keep.creatorId===n.account.id?(a(),l("i",{key:0,class:"fa fa-trash text-warning pl-3 fa-mg hoverable",title:"Delete Keep",onClick:t[4]||(t[4]=(...e)=>n.deleteKeep&&n.deleteKeep(...e))})):f("",!0)])):f("",!0),o("div",ct,[o(u,{to:{name:"Profile",params:{id:c.keep.creatorId}},class:"nav-link text-dark-grey"},{default:De((()=>[o("img",{class:"rounded sm-prof-pic",src:c.keep.creator.picture,alt:c.keep.creator.name,title:c.keep.creator.name,onClick:t[5]||(t[5]=(...e)=>n.closeModal&&n.closeModal(...e))},null,8,["src","alt","title"])])),_:1},8,["to"]),o("p",{class:"pl-3 m-0 pr-1 text-ellipses text-truncate text-right",title:c.keep.creator.name},[o("i",null,x(c.keep.creator.name),1)],8,["title"])])])])])])])])],8,["id"])])}));Be.render=nt,Be.__scopeId="data-v-4a430d08";var it=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Be});const dt={props:{keep:{type:Object,required:!0}},setup(e){const a=u();return{route:a,async getKeep(){try{this.account.id&&await te.getVaultsByProfileNotKeep(C.account.id,e.keep.id),await U.getById(e.keep.id,a.params.id)}catch(t){T.toast(t,"error")}},async removeKeep(){try{await T.confirm()&&(await Re.remove(e.keep.vaultKeepId),await U.getKeepsByVaultId(C.activeVault.id),T.toast("Removed Keep Successfully","success"))}catch(t){T.toast(t,"error")}},async deleteVault(){try{await T.confirm()&&(await te.deleteVault(state.activeVault.id),T.toast("Deleted Vault Successfully","success"),router.push({name:"Home"}))}catch(e){T.toast(e,"error")}},activeVault:t((()=>C.activeVault)),account:t((()=>C.account))}},components:{}},ut=b("data-v-55e6c06b");i("data-v-55e6c06b");const pt={class:"card img-rounded hoverable hover-here"},mt={class:"card-body p-0"},vt=o("div",{class:"img-text d-flex justify-content-between align-items-end w-100 pl-3 pr-4 pb-2 "},null,-1),gt={class:"hover-show"},ft={key:0},bt={class:"text-light md-font-size w-100 text-center text-break text-wrap pl-2 pr-3 img-text"};d();const ht=ut(((e,t,s,c,n,i)=>{const d=r("KeepModal");return a(),l("div",pt,[o("div",mt,[o("div",{class:"img-total","data-toggle":"modal","data-target":"#keep-modal-"+s.keep.id,onClick:t[2]||(t[2]=(...e)=>c.getKeep&&c.getKeep(...e))},[o("img",{class:"w-100 gs img-rounded",src:s.keep.img,alt:s.keep.name,title:s.keep.name},null,8,["src","alt","title"]),vt,o("div",gt,["Vault"==c.route.name&&c.activeVault.creatorId==c.account.id?(a(),l("div",ft,[o("i",{class:"fas fa-times rmv-keep fa-lg text-light white-text-shadow hoverable",title:"Remove Keep from Vault",onClick:t[1]||(t[1]=m(((...e)=>c.removeKeep&&c.removeKeep(...e)),["stop"]))})])):f("",!0),o("h5",bt,x(s.keep.name),1)])],8,["data-target"])]),s.keep.id?(a(),l(d,{key:0,keep:s.keep},null,8,["keep"])):f("",!0)])}));dt.render=ht,dt.__scopeId="data-v-55e6c06b";var kt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:dt});const yt=new class{async getAccount(){try{const e=await M.get("/account");C.account=e.data}catch(e){E.error("HAVE YOU STARTED YOUR SERVER YET???",e)}}updateAccount(e){M.put("/account",e),C.account.name=e.name,C.account.picture=e.picture,C.activeProfile.id===e.id&&(C.activeProfile.name=e.name,C.activeProfile.picture=e.picture)}},wt=P({domain:"dev-lh6ggyff.us.auth0.com",clientId:"HzQgoIex6tKEA7CvyOwT0dUlaesDjLt2",audience:"https://Auth-Todo.com",useRefreshTokens:!0,onRedirectCallback:e=>{Ie.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}});async function xt(e){if(!wt.isAuthenticated)return e;const t=1e3*wt.identity.exp,a=t<Date.now(),l=t<Date.now()+432e5;return a?await wt.loginWithPopup():l&&(await wt.getTokenSilently(),M.defaults.headers.authorization=wt.bearer),e}wt.on(wt.AUTH_EVENTS.AUTHENTICATED,(async function(){M.defaults.headers.authorization=wt.bearer,M.interceptors.request.use(xt),C.user=wt.user,await yt.getAccount()}));const Kt={setup:()=>({state:e({dropOpen:!1}),account:t((()=>C.account)),user:t((()=>C.user)),async login(){wt.loginWithPopup()},async logout(){wt.logout({returnTo:window.location.origin})}})},Vt=b("data-v-4d457a68");i("data-v-4d457a68");const _t={class:"navbar navbar-expand-lg navbar-light nav-border"},Pt=o("div",{class:"d-flex flex-column align-items-center",title:"Go to Homepage"},[o("h1",{class:"m-0"},"Keepr")],-1),It=o("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[o("span",{class:"navbar-toggler-icon"})],-1),Ct={class:"collapse navbar-collapse",id:"navbarText"},At={class:"navbar-nav mr-auto"},Tt={class:"nav-item",title:"Go to Homepage"},St=K(" Home "),jt={key:0,class:"nav-item",title:"Go to your Profile Page"},Ot=K(" Profile "),Et={class:"navbar-text"},Mt={key:1,class:"dropdown"},Ut={class:"mx-3 text-dark-grey hoverable text-break text-wrap"};d();const Lt=Vt(((e,t,s,c,n,i)=>{const d=r("router-link");return a(),l("nav",_t,[o(d,{class:"navbar-brand d-flex",to:{name:"Home"}},{default:Vt((()=>[Pt])),_:1}),It,o("div",Ct,[o("ul",At,[o("li",Tt,[o(d,{to:{name:"Home"},class:"nav-link text-dark-grey"},{default:Vt((()=>[St])),_:1})]),c.account.id?(a(),l("li",jt,[o(d,{to:{name:"Profile",params:{id:c.account.id}},class:"nav-link text-dark-grey"},{default:Vt((()=>[Ot])),_:1},8,["to"])])):f("",!0)]),o("span",Et,[c.user.isAuthenticated?(a(),l("div",Mt,[o("div",{class:"dropdown-toggle",onClick:t[2]||(t[2]=e=>c.state.dropOpen=!c.state.dropOpen)},[o("img",{src:c.account.picture,alt:"account photo",height:"40",class:"rounded"},null,8,["src"]),o("span",Ut,x(c.user.name),1)]),o("div",{class:["dropdown-menu p-0 list-group w-100",{show:c.state.dropOpen}],onClick:t[4]||(t[4]=e=>c.state.dropOpen=!1)},[o("div",{class:"list-group-item list-group-item-action hoverable",title:"log out",onClick:t[3]||(t[3]=(...e)=>c.logout&&c.logout(...e))}," logout ")],2)])):(a(),l("button",{key:0,class:"btn btn-outline-primary text-uppercase",title:"log in",onClick:t[1]||(t[1]=(...e)=>c.login&&c.login(...e))}," Login "))])])])}));Kt.render=Lt,Kt.__scopeId="data-v-4d457a68";var Rt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Kt});const Bt={setup(){u();const a=e({updatedAccount:{},account:t((()=>C.account))});return{state:a,async updateAccount(){try{a.updatedAccount.id=a.account.id,await yt.updateAccount(a.updatedAccount),a.updatedAccount={},p("#update-account-modal").modal("hide"),T.toast("Updated Account Successfully","success")}catch(e){T.toast(e,"error")}},closeModal(){p("#update-account-modal").modal("hide")}}}},Dt=b("data-v-58b0c1ea");i("data-v-58b0c1ea");const $t={class:"account-modal container-fluid"},qt={class:"modal",id:"update-account-modal",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},Nt={class:"modal-dialog modal-lg modal-dialog-centered",role:"document"},zt={class:"modal-content"},Ht=o("div",{class:"modal-header d-flex flex-column align-items-center"},[o("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[o("span",{"aria-hidden":"true"},"×")]),o("h3",{class:"m-0"},"Edit Account")],-1),Yt={class:"modal-body"},Wt={class:"form-group"},Ft=o("label",{class:"pr-2",for:"account-name"},"Name",-1),Gt={class:"form-group"},Qt=o("label",{class:"pr-2",for:"account-img-url"},"Image URL",-1),Jt={key:0,type:"submit",class:"btn btn-success mr-3"},Xt=o("b",null,"Save",-1);d();const Zt=Dt(((e,t,s,r,c,n)=>(a(),l("div",$t,[o("div",qt,[o("div",Nt,[o("div",zt,[Ht,o("div",Yt,[o("form",{onSubmit:t[4]||(t[4]=m(((...e)=>r.updateAccount&&r.updateAccount(...e)),["prevent"]))},[o("div",Wt,[Ft,v(o("input",{type:"text",id:"account-name",class:"form-control",placeholder:"Name...",maxlength:"25",required:"","onUpdate:modelValue":t[1]||(t[1]=e=>r.state.updatedAccount.name=e)},null,512),[[g,r.state.updatedAccount.name]])]),o("div",Gt,[Qt,v(o("input",{type:"text",id:"account-img-url",class:"form-control",placeholder:"Image URL...",maxlength:"200",required:"","onUpdate:modelValue":t[2]||(t[2]=e=>r.state.updatedAccount.picture=e)},null,512),[[g,r.state.updatedAccount.picture]])]),o("div",null,[r.state.updatedAccount?(a(),l("button",Jt,[Xt])):f("",!0),o("button",{type:"button",class:"btn btn-primary closeModal","data-dismiss":"modal",onClick:t[3]||(t[3]=(...e)=>r.closeModal&&r.closeModal(...e))}," Close ")])],32)])])])])]))));Bt.render=Zt,Bt.__scopeId="data-v-58b0c1ea";var ea=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Bt});const ta={props:{vault:{type:Object,required:!0}},setup:()=>({}),components:{}},aa=b("data-v-abbbf8fa");i("data-v-abbbf8fa");const la={class:"py-2 hover-here"},oa={class:"hover-show"},sa={class:"img-text sm-font-size text-break w-100 text-wrap pl-3 pr-5 text-light"};d();const ra=aa(((e,t,s,c,n,i)=>{const d=r("router-link");return a(),l("div",la,[o(d,{to:{name:"Vault",params:{id:s.vault.id}}},{default:aa((()=>[o("img",{class:"w-100 img-height gs img-rounded",src:s.vault.img,alt:s.vault.name,title:s.vault.name},null,8,["src","alt","title"])])),_:1},8,["to"]),o("div",oa,[o("h5",sa,x(s.vault.name),1)])])}));ta.render=ra,ta.__scopeId="data-v-abbbf8fa";var ca=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ta});const na=I(A);!function(e){const t={"./components/CreateKeepModal.vue":ee,"./components/CreateVaultModal.vue":we,"./components/KeepCard.vue":Le,"./components/KeepModal.vue":it,"./components/KeepProfCard.vue":kt,"./components/Navbar.vue":Rt,"./components/UpdateProfileModal.vue":ea,"./components/VaultProfCard.vue":ca};Object.entries(t).forEach((([t,a])=>{const l=a.name||t.substr(t.lastIndexOf("/")+1).replace(/\.\w+$/,"");e.component(l,a.default)}))}(na),na.use(Ie).mount("#app");export{C as A,T as P,M as a,U as k,E as l,Ie as r,te as v};
